package com.example.androidmalwaredetector;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.util.Log;

import com.example.androidmalwaredetector.utilities.classifier;

import net.dongliu.apk.parser.ApkFile;
import net.dongliu.apk.parser.bean.ApkMeta;
import net.dongliu.apk.parser.bean.UseFeature;

import java.io.File;
import java.io.IOException;

public class singleApkAnalysis extends AppCompatActivity {

    String location;
    String mlAlgo;
    String TAG = "SingleAPK";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_single_apk_analysis);
        location = getIntent().getStringExtra("apkLocation");
        mlAlgo = getIntent().getStringExtra("mlAlgo");
        Log.d(TAG, "Starting");
        Log.d(TAG, location);
        try (ApkFile apkFile = new ApkFile(new File(location))) {
            ApkMeta apkMeta = apkFile.getApkMeta();
            Log.d(TAG,apkMeta.getLabel());
            Log.d(TAG,apkMeta.getPackageName());
         //   Log.d("singleApkAnalysis", String.valueOf(apkMeta.getVersionCode()));
            for (UseFeature feature : apkMeta.getUsesFeatures()) {
                Log.d(TAG, feature.getName());
            }
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
}